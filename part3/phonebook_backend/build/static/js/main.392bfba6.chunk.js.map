{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","text","value","onChange","onchange","PersonForm","onSubmit","onsubmit","nameValue","nameOnchange","numValue","numOnchange","type","Person","persons","onclick","style","paddingLeft","map","person","listStyleType","name","number","id","onClick","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","notification","setNotification","useEffect","personService","initalPerson","length","notify","setTimeout","namesToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","existing","find","changeNumber","window","confirm","newNumPerson","catch","error","returnedPerson","concat","persontoDel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.392bfba6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n           {props.text} <input \r\n           value={props.value}\r\n           onChange={props.onchange} \r\n           />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport Filter from './Filter'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.onsubmit}>\r\n            <Filter text='name: ' value={props.nameValue}\r\n           onchange={props.nameOnchange} />\r\n            <Filter text='number: ' value={props.numValue}\r\n           onchange={props.numOnchange} />\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form> \r\n\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ persons, onclick }) => {\r\n    // console.log(props.persons);\r\n    return (\r\n        <ul style={{ paddingLeft: 0 }}>\r\n            {persons.map(person => \r\n            <li style={{ listStyleType: 'none' }}\r\n            key={person.name}>\r\n                {person.name} {person.number}\r\n                <button \r\n                id={person.id} \r\n                onClick={() => onclick(person.id)}> \r\n                delete \r\n                </button>\r\n            </li>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={message.type}>\r\n      {message.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n} \r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\n  const del = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n  export default { \r\n    getAll, create, del, update\r\n}","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initalPerson => {\n        setPersons(initalPerson)\n      })\n  }, [persons.length])\n\n  const notify = (message, type='sucess') => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const existing = persons.find(person => person.name === newName)\n    const changeNumber = { ...existing, number: newNumber}\n    if (existing) {\n      if (window.confirm(`${existing.name} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(changeNumber.id, changeNumber)\n          .then(newNumPerson => {\n            setPersons(persons.map(person => person.name !== personObject.name ? person : newNumPerson))\n            notify(`Updated ${existing.name}`)\n          })\n          .catch(error => {\n            notify(`Information of ${existing.name} has already been removed from server`, 'error')\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          notify(`Added ${personObject.name}`)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const delPerson = (id) => {\n    const persontoDel = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${persontoDel.name}?`)) {\n      personService\n      .del(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        notify(`Deleted ${persontoDel.name}`)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n  const handleNumChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification}/>\n      <Filter value={search} onchange={handleSearch} text='filter shown with '/>\n\n      <h2>Add a new</h2>\n      <PersonForm \n      onsubmit={addPerson} \n      nameValue={newName}\n      nameOnchange={handleNameChange}\n      numValue={newNumber}\n      numOnchange={handleNumChange}/>\n      \n      <h2>Numbers</h2> \n      <Person persons={namesToShow} onclick={delPerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}